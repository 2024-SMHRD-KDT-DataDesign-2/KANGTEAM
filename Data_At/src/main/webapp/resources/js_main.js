
// Example interactivity for the "Search" button

	// Î©îÏù∏ÌéòÏù¥ÏßÄ Ï†ÑÌôòÌïòÍ∏∞ „Öá„Öá
	// Î™®Îì† div ÏöîÏÜå Í∞ÄÏ†∏Ïò§Í∏∞
		    const divs = document.querySelectorAll('.background-box > div');
		    let currentIndex = 0; // ÌòÑÏû¨ Î≥¥Ïù¥Îäî divÏùò Ïù∏Îç±Ïä§
		
		    // 5Ï¥àÎßàÎã§ divÎ•º Î≤àÍ∞àÏïÑ ÌëúÏãú
		    function cycleDivs() {
		        // Î™®Îì† divÎ•º Ïà®ÍπÄ
		        divs.forEach(div => div.style.display = 'none');
		
		        // ÌòÑÏû¨ Ïù∏Îç±Ïä§Ïóê Ìï¥ÎãπÌïòÎäî divÎßå ÌëúÏãú
		        divs[currentIndex].style.display = 'flex';
		
		        // Îã§Ïùå Ïù∏Îç±Ïä§ Í≥ÑÏÇ∞
		        currentIndex = (currentIndex + 1) % divs.length;
		    }
		
		    // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï≤´ Î≤àÏß∏ div ÌëúÏãú Î∞è setInterval ÏãúÏûë
		document.addEventListener("DOMContentLoaded", () => {
			console.log(document.getElementById('new-dataset-btn')); // Î≤ÑÌäºÏù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏÑ†ÌÉùÎêòÎäîÏßÄ ÌôïÏù∏
			console.log(document.getElementById('newDatasetPanel')); // Ìå®ÎÑêÏù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÏÑ†ÌÉùÎêòÎäîÏßÄ ÌôïÏù∏
			
		    divs.forEach(div => div.style.display = 'none'); // Ï¥àÍ∏∞Ìôî: Î™®Îì† div Ïà®ÍπÄ
		    divs[0].style.display = 'flex'; // Ï≤´ Î≤àÏß∏ div ÌëúÏãú
		    setInterval(cycleDivs, 5000); // 5Ï¥àÎßàÎã§ Ïã§Ìñâ
		});



  

// JavaScript to handle the sidebar toggle
const menuToggleBtn = document.querySelector('.menu-toggle')
  
  if (menuToggleBtn) {
  menuToggleBtn.addEventListener('click', () => {
    console.log("menu-toggle Î≤ÑÌäº ÌÅ¥Î¶≠");
    document.body.classList.toggle('sidebar-open');
  });
} else {
  console.error("menu-toggle Î≤ÑÌäºÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§!");
}
  

  // ***Ïö∞Ï∏° Îç∞Ïù¥ÌÑ∞ ÏóÖÎ°úÎìú ÌéòÏù¥ÏßÄ Íµ¨ÌòÑ***
  
const newDatasetBtn = document.getElementById('new-dataset-btn');
const newDatasetPanel = document.getElementById('newDatasetPanel');
const closePanelBtn = document.getElementById('closePanelBtn');

// Open the panel when the "+ New Dataset" button is clicked


newDatasetBtn.addEventListener('click', () => {
	console.log("new Dataset Î≤ÑÌäº ÏûëÎèô");
  newDatasetPanel.classList.add('visible');
  newDatasetPanel.classList.remove('hidden'); // ÏõêÎûò hidden ÌÅ¥ÎûòÏä§Í∞Ä ÏûáÏñ¥ÏïºÌï®?

});



// Close the panel when the "X" button is clicked

closePanelBtn.addEventListener('click', () => {
  newDatasetPanel.classList.remove('visible');
});



  
  
  // ÎßàÏù¥ÌéòÏù¥ÏßÄ Î≤ÑÌäº ÌÅ¥Î¶≠Ìï†ÎïåÎßàÎã§ ÌéòÏù¥ÏßÄ Ï†ÑÌôò 
  
  document.addEventListener('DOMContentLoaded', () => {
  
  const settingsPage = document.getElementById('settings-page');
  const creditsPage = document.getElementById('credits-page');
  
  const creditHistoryPage = document.getElementById('creditHistory-page');
  const creditPurchasePage = document.getElementById('creditPurchase-page');
  
  const uploadedPage = document.getElementById('uploaded-page');  
  const downloadedPage = document.getElementById('downloaded-page');
  

  
  
  const settingsBtn = document.getElementById('settings-btn');
  const creditsBtn = document.getElementById('credits-btn');
  
  const creditHistoryBtn = document.getElementById('history-btn');
  const purchaseBtn = document.getElementById('purchase-btn'); 
  
  const uploadedBtn = document.getElementById('uploaded-btn');
  const downloadedBtn = document.getElementById('downloaded-btn');
  

  // Ï¥àÍ∏∞ ÏÑ§Ï†ï: Settings ÌéòÏù¥ÏßÄÎßå Î≥¥Ïù¥ÎèÑÎ°ù ÏÑ§Ï†ï
  settingsPage.style.display = 'block';
  creditsPage.style.display = 'none';
  uploadedPage.style.display = 'none';
  downloadedPage.style.display = 'none';
  creditPurchasePage.style.display = 'none';

  const elements_tab_li = document.querySelectorAll(".tabs li");
  
  // Settings Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
  settingsBtn.addEventListener('click', (e) => {
    e.preventDefault();
    settingsPage.style.display = 'block';
    creditsPage.style.display = 'none';
    uploadedPage.style.display = 'none';
    downloadedPage.style.display = 'none';
  });

  // Credits Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
  creditsBtn.addEventListener('click', (e) => {
    e.preventDefault();
    settingsPage.style.display = 'none';    
    creditsPage.style.display = 'block';
         
    console.log(elements_tab_li[0].classList.contains("active"));
    console.log(elements_tab_li[1].classList.contains("active"));
      
    // ÏñòÍ∞Ä Î¨∏Ï†úÏù∏Îç∞...
    if(document.getElementById("history-btn").classList.contains("active")){       
    	creditHistoryPage.style.display = 'block';
    	creditPurchasePage.style.display = 'none';
    } else if(document.getElementById("purchase-btn").classList.contains("active")){
    	creditHistoryPage.style.display = 'none';
    	creditPurchasePage.style.display = 'block';
    }
        
    uploadedPage.style.display = 'none';
    downloadedPage.style.display = 'none';
   
  });
  
  // Uploaded Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
  uploadedBtn.addEventListener('click', (e) => {
  	console.log("uploaded button clicked");
    e.preventDefault();
    settingsPage.style.display = 'none';
    creditsPage.style.display = 'none';
    uploadedPage.style.display = 'block';
    downloadedPage.style.display = 'none';
    creditPurchasePage.style.display = 'none';
  });
  
  // Downloaded Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
  downloadedBtn.addEventListener('click', (e) => {
  	console.log("downloaded button clicked");
    e.preventDefault();
    settingsPage.style.display = 'none';
    creditsPage.style.display = 'none';
    uploadedPage.style.display = 'none';
    downloadedPage.style.display = 'block';
    creditPurchasePage.style.display = 'none';
  });
  
  // credit history ÌÉúÍ∑∏ ÌÅ¥Î¶≠
  creditHistoryBtn.addEventListener('click', (e) => {
  	console.log("credit historyÎ≤ÑÌäº clicked");
    e.preventDefault();
    settingsPage.style.display = 'none';
    
    creditsPage.style.display = 'block';
    creditHistoryPage.style.display = 'block';
    creditPurchasePage.style.display = 'none';
    
    uploadedPage.style.display = 'none';
    downloadedPage.style.display = 'none';

  });
  
  // credit purchase ÌÉúÍ∑∏ ÌÅ¥Î¶≠
  purchaseBtn.addEventListener('click', (e) => {
  	console.log("credit purchase Î≤ÑÌäº clicked");
    e.preventDefault();
    settingsPage.style.display = 'none';
    
    creditsPage.style.display = 'block';
    creditHistoryPage.style.display = 'none';
    creditPurchasePage.style.display = 'block';
    
    uploadedPage.style.display = 'none';
    downloadedPage.style.display = 'none';
    
    
    
  });
  
  
});


document.getElementById("history-btn").addEventListener("click", function () {
    setActiveTab("history-btn");
});

document.getElementById("purchase-btn").addEventListener("click", function () {
    setActiveTab("purchase-btn");
});

function setActiveTab(activeId) {
    // Î™®Îì† ÌÉ≠Ïùò active ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
    const tabs = document.querySelectorAll(".tabs li");
    tabs.forEach(tab => tab.classList.remove("active"));

    // ÌÅ¥Î¶≠Îêú ÌÉ≠Ïóê active ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä
    const activeTab = document.getElementById(activeId);
    activeTab.classList.add("active");
}


	// mypage - uploaded ÌéòÏù¥ÏßÄ checkbox Í∏∞Îä•
	
	// Ï†ÑÏ≤¥ Ï≤¥ÌÅ¨Î∞ïÏä§ ÏÑ†ÌÉù
const selectAllCheckbox = document.getElementById("select-all");
// Í∞úÎ≥Ñ Ï≤¥ÌÅ¨Î∞ïÏä§Îì§
const itemCheckboxes = document.querySelectorAll(".item-checkbox");
// ÏÑ†ÌÉùÎêú Í∞úÏàòÎ•º Î≥¥Ïó¨Ï£ºÎäî ÌÖçÏä§Ìä∏
const selectedCountText = document.getElementById("selected-count");

// Ï†ÑÏ≤¥ ÏÑ†ÌÉù Î°úÏßÅ
selectAllCheckbox.addEventListener("change", function () {
  const isChecked = selectAllCheckbox.checked;
  itemCheckboxes.forEach((checkbox) => {
    checkbox.checked = isChecked;
  });
  updateSelectedCount();
});

// Í∞úÎ≥Ñ ÏÑ†ÌÉù Î°úÏßÅ
itemCheckboxes.forEach((checkbox) => {
  checkbox.addEventListener("change", function () {
    updateSelectedCount();
    // "Ï†ÑÏ≤¥ ÏÑ†ÌÉù" Ï≤¥ÌÅ¨Î∞ïÏä§ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
    selectAllCheckbox.checked = Array.from(itemCheckboxes).every(
      (checkbox) => checkbox.checked
    );
  });
});

// ÏÑ†ÌÉùÎêú Í∞úÏàò ÏóÖÎç∞Ïù¥Ìä∏
function updateSelectedCount() {
  const selectedCount = Array.from(itemCheckboxes).filter(
    (checkbox) => checkbox.checked
  ).length;
  selectedCountText.textContent = `${selectedCount} selected`;
} 


//-------------------------ÌÅ¨Î†àÎîß Íµ¨Îß§ ÌéòÏù¥ÏßÄ Í∏∞Îä•---------------------

function showPopup() {
    document.getElementById('popup').style.display = 'flex';
}

function addDigit(digit) {
    const amountField = document.getElementById('credit-amount');
    let currentAmount = amountField.value.replace('‚Ç¨', '').replace(',', '');
    if (currentAmount === "0.00") currentAmount = "";
    currentAmount += digit;
    amountField.value = parseFloat(currentAmount).toFixed(2);
}

function clearAmount() {
    document.getElementById('credit-amount').value = "0.00";
}

function useCredit() {
    alert("Using credit: ‚Ç¨" + document.getElementById('credit-amount').value);
    document.getElementById('popup').style.display = 'none';
}

function toggleTheme() {
    const body = document.body;
    const container = document.querySelector('.container');
    const icon = document.getElementById('theme-icon');

    body.classList.toggle('dark');
    container.classList.toggle('dark');

    if (body.classList.contains('dark')) {
        icon.textContent = 'üåô'; // Moon icon for dark mode
    } else {
        icon.textContent = '‚òÄÔ∏è'; // Sun icon for light mode
    }
}

function makeEditable() {
    document.getElementById('name').setAttribute('contenteditable', 'true');
    document.getElementById('email').setAttribute('contenteditable', 'true');
    document.getElementById('phone').setAttribute('contenteditable', 'true');

    // Show the save icon
    document.querySelector('.save-icon').style.display = 'inline';
}

function saveChanges() {
    document.getElementById('name').setAttribute('contenteditable', 'false');
    document.getElementById('email').setAttribute('contenteditable', 'false');
    document.getElementById('phone').setAttribute('contenteditable', 'false');

    // Hide the save icon
    document.querySelector('.save-icon').style.display = 'none';

    alert("Changes saved!");
}


// -------- Í≤ÄÏÉâÍ∏∞Îä• --------------------------------------------------------------------------


backgroundCh = function() {
    var sel = document.getElementById('sel');
    sel.style.backgroundColor = sel.value;
};

// ------ Î™®Îã¨Ï∞Ω -------

    var modalLayer = $("#modalLayer");
    var modalLink = $(".modalLink");
    var modalCont = $(".modalContent");
    var marginLeft = modalCont.outerWidth()/2;
    var marginTop = modalCont.outerHeight()/2; 
    
    // ÌÅ¥Î¶≠Ïãú Î™®Îã¨ ÌëúÏãú
 	modalLink.addEventListener('click', () => {
  		modalLayer.style.display = 'block';
	});
         
    // Î™®Îã¨Ï∞Ω Ïó¥Í∏∞
    modalLink.click(function(){
        console.log('modal clicked Ïä§ÌîÑÎßÅ');
      modalLayer.style.display='block';
      modalLayer.fadeIn("slow");
      modalCont.css({"margin-top" : -marginTop, "margin-left" : -marginLeft});
      $(this).blur();
      $(".modalContent > a").focus(); 
      return false;
    });
  
    // Î™®Îã¨Ï∞Ω Îã´Í∏∞
    $("#close-modal").click(function(){
      console.log('modalÏ∞Ω Îã´Í∏∞');
      modalLayer.fadeOut("slow");
      modalLink.focus();
    });	
    
    		
   document.querySelector('#test_mypagelogo').click(function(){
   	console.log('clicked');
   });
   


